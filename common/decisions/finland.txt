integration_category = {

	###Integrate soviet land (Murmansk, Aunus and onega)
	FIN_soviet_integration  = {
	
		icon = generic_form_nation
		
		allowed = {
			original_tag = FIN
		}
			
		available ={
			controls_state = 216
			controls_state = 213
			controls_state = 215
		}
			
		visible = {
			original_tag = FIN
			has_government = fascism
			controls_state = 216
			controls_state = 213
			controls_state = 215
		}
				
		cost = 50
				
		complete_effect = {
			216 = {
				add_core_of = FIN
				set_state_name = Aunus
			}
			213 = {
				add_core_of = FIN 
			}
			215 = {
				add_core_of = FIN
				set_state_name = Aaninen
			}
		}
	}
	
	###Integrate scandinavian lands, (Nord-Norge, Northern Sweden)
	FIN_scandinavian_integration  = {
	
		icon = generic_form_nation
		
		allowed = {
			original_tag = FIN
		}
			
		available ={
			controls_state = 144
			controls_state = 666
		}
			
		visible = {
			original_tag = FIN
			has_government = fascism
			controls_state = 144
			controls_state = 666
		}
			
		cost = 50
				
		complete_effect ={	
			144 = {
				add_core_of = FIN
				set_state_name = "Pohjois-Norja"
			}
					
			666 = {
				add_core_of = FIN
				set_state_name = "Lansi-Lappi"
			}
		}
			
		ai_will_do = {
			factor = 100
		}
	}		
}

armorshopping_category = {
			
	###Purchase soviet tanks
#	FIN_soviet_tanks  = {
#	
#		icon = decision_generic_tank
#				
#		allowed = {
#			original_tag = FIN
#		}
#			
#		available ={
#			has_completed_focus = fin_import_tanks
#			SOV = {
#				has_tech = sov_medium_2
#			}
#			NOT = { 
#				has_country_flag = fin_purchasesuccessfull 
#			}
#		}
#			
#		target_trigger = {
#			FROM = {
#				tag = SOV
#			}
#		}
#			
#		visible = {
#			original_tag = FIN
#			NOT = { 
#				has_country_flag = fin_purchasesuccessfull 
#			}
#			has_completed_focus = fin_import_tanks
#		}
#				
#		days_remove = -1
#				
#		cost = 100
#				
#		complete_effect = {	
#			set_country_flag = fin_purchasesuccessfull
#			if = {
#				limit = {
#					has_dlc = "Death or Dishonor"
#				}
#				SOV = {
#					create_production_license = {
#						target = FIN 
#						equipment = {
#							type = sov_medium_equipment_2
#						}
#						cost_factor = 0
#					}
#				}
#			}
#			add_equipment_to_stockpile = {
#				type = sov_medium_equipment_2 #type of equipment, from file
#				amount = 100 #amount
#				producer = SOV #Name of country that "built" the equipment
#			}
#		}
#			
#
#		ai_will_do = {
#			factor = 100
#		}
#	}	
#
#	###Purchase german tanks
#	FIN_german_tanks  = {
#	
#		icon = decision_generic_tank
#				
#		allowed = {
#			original_tag = FIN
#		}
#			
#		available ={
#			has_completed_focus = fin_import_tanks
#			GER = {
#				has_tech = ger_medium_2
#			}
#			NOT = {
#				has_country_flag = fin_purchasesuccessfull 
#			}
#		}
#			
#		target_trigger = {
#			FROM = {
#				tag = GER
#			}
#		}
#			
#		visible = {
#			original_tag = FIN
#			NOT = { 
#				has_country_flag = fin_purchasesuccessfull 
#			}
#			has_completed_focus = fin_import_tanks
#		}
#				
#		cost = 100
#				
#		complete_effect ={	
#			set_country_flag = fin_purchasesuccessfull
#			if = {
#				limit = {
#					has_dlc = "Death or Dishonor"
#				}
#				GER = {
#					create_production_license = {
#						target = FIN 
#						equipment = {
#							type = ger_medium_equipment_2 
#						}
#						cost_factor = 0
#					}
#				}
#			}
#			add_equipment_to_stockpile = {
#				type = ger_medium_equipment_2 #type of equipment, from file
#				amount = 100 #amount
#				producer = GER #Name of country that "built" the equipment
#				}
#			}
#			
#		ai_will_do = {
#			factor = 100
#		}
#	}	
			
	###Purchase british tanks
	FIN_english_tanks  = {
	
		icon = decision_generic_tank
				
		allowed = {
			original_tag = FIN
		}
			
		available ={
			has_completed_focus = fin_import_tanks
			ENG = {
				has_tech = eng_medium_1
			}
			NOT = { 
				has_country_flag = fin_purchasesuccessfull 
			}
		}
		
		target_trigger = {
			FROM = {
				tag = ENG
			}
		}
			
		visible = {
			original_tag = FIN
			NOT = { 
				has_country_flag = fin_purchasesuccessfull 
			}
			has_completed_focus = fin_import_tanks
		}
				
		cost = 100
				
		complete_effect ={	
			set_country_flag = fin_purchasesuccessfull
			if = {
				limit = {
					has_dlc = "Death or Dishonor"
				}
				ENG = {
					create_production_license = {
						target = FIN 
						equipment = {
							type = eng_interwar_equipment_1
						}
						cost_factor = 0
					}
				}
			}
			add_equipment_to_stockpile = {
				type = eng_interwar_equipment_1 #type of equipment, from file
				amount = 35 #amount
				producer = ENG #Name of country that "built" the equipment
				}
			}
			
		ai_will_do = {
			factor = 100
		}
	}
			
	###Purchase american tanks
#	FIN_usa_tanks  = {
#	
#		icon = decision_generic_tank
#				
#		allowed = { 
#			original_tag = FIN
#		}
#			
#		available ={
#			has_completed_focus = fin_import_tanks
#				USA = {
#					has_tech = usa_medium_1
#				}
#			NOT = { has_country_flag = fin_purchasesuccessfull }	
#		}
#			
#		target_trigger = {
#			FROM = {
#				tag = USA
#			}
#		}
#			
#		visible = {
#			original_tag = FIN
#			NOT = { has_country_flag = fin_purchasesuccessfull }
#			has_completed_focus = fin_import_tanks
#		}
#				
#		cost = 100
#				
#		complete_effect ={	
#			set_country_flag = fin_purchasesuccessfull
#			if = {
#				limit = {
#					has_dlc = "Death or Dishonor"
#				}
#				USA = {
#					create_production_license = {
#						target = FIN 
#						equipment = {
#							type = usa_medium_equipment_1
#						}
#						cost_factor = 0
#					}
#				}
#			}
#			add_equipment_to_stockpile = {
#				type = usa_medium_equipment_1 #type of equipment, from file
#				amount = 100 #amount
#				producer = USA #Name of country that "built" the equipment
#			}
#		}
#			
#		ai_will_do = {
#			factor = 100
#		}
#	}
}

###Category for war support stuff, still wip
war_programs_category = {


		FIN_mobilize_suojeluskunnat  = {
	
		icon = decision_suojeluskunnat
		
			allowed = {
				original_tag = FIN
			}
			
			available ={
					has_completed_focus = fin_the_civil_guard
					has_war_support > 0.5
					NOT = { has_government = communism }
			}
			
			visible = {
				original_tag = FIN
				has_completed_focus = fin_the_civil_guard
			}
				
			fire_only_once = yes	
				
			complete_effect = {
				custom_effect_tooltip = suojeluskunnat_tt
					hidden_effect =  {
				
						add_equipment_to_stockpile = {
							type = artillery_equipment_1 #type of equipment, from file
							amount = 500 #amount
							producer = FIN #Name of country that "built" the equipment
							}
						add_equipment_to_stockpile = {
							type = infantry_equipment_1 #type of equipment, from file
							amount = 6000 #amount
							producer = FIN #Name of country that "built" the equipment
							}
						add_equipment_to_stockpile = {
							type = support_equipment_1 #type of equipment, from file
							amount = 700 #amount
							producer = FIN #Name of country that "built" the equipment
							}
							
						division_template = {
							name = "Suojeluskunta"
							priority = 1
	
							regiments = {
							infantry = { x = 0 y = 0 }
							infantry = { x = 0 y = 1 }
							infantry = { x = 0 y = 2 }
							infantry = { x = 0 y = 3 }
							infantry = { x = 0 y = 4 }
							
							infantry = { x = 1 y = 0 }
							infantry = { x = 1 y = 1 }
							}
					
							support = {
								DIV_HQ = { x = 0 y = 0 }	
								artillery = { x = 0 y = 1 }
								engineer = { x = 0 y = 2 }
								}
							}
						111 = {
							create_unit = {
							division = "name = \"1. Suojeluskunta\" division_template = \"Suojeluskunta\" start_experience_factor = 0.3" 
							owner = FIN
							}
							create_unit = {
							division = "name = \"2. Suojeluskunta\" division_template = \"Suojeluskunta\" start_experience_factor = 0.3" 
							owner = FIN
							}
							create_unit = {
							division = "name = \"3. Suojeluskunta\" division_template = \"Suojeluskunta\" start_experience_factor = 0.3" 
							owner = FIN
							}
							create_unit = {
							division = "name = \"4. Suojeluskunta\" division_template = \"Suojeluskunta\" start_experience_factor = 0.3" 
							owner = FIN
							}
							create_unit = {
							division = "name = \"5. Suojeluskunta\" division_template = \"Suojeluskunta\" start_experience_factor = 0.3" 
							owner = FIN
							}
							create_unit = {
							division = "name = \"6. Suojeluskunta\" division_template = \"Suojeluskunta\" start_experience_factor = 0.3" 
							owner = FIN
							}
							create_unit = {
							division = "name = \"7. Suojeluskunta\" division_template = \"Suojeluskunta\" start_experience_factor = 0.5" 
							owner = FIN
							}
							create_unit = {
							division = "name = \"8. Suojeluskunta\" division_template = \"Suojeluskunta\" start_experience_factor = 0.3" 
							owner = FIN
							}
							create_unit = {
							division = "name = \"9. Suojeluskunta\" division_template = \"Suojeluskunta\" start_experience_factor = 0.3" 
							owner = FIN
							}
							create_unit = {
							division = "name = \"10. Suojeluskunta\" division_template = \"Suojeluskunta\" start_experience_factor = 0.3" 
							owner = FIN
							}
						
						}
				
				}
			}
	}

}

###Category for winter war decisions
FIN_winterwar_category = {
							  
	###Soviets demand border readjustments
	fin_karjalanego = {                           
		allowed = { 
			tag = FIN 
		}                 
					
		available = {                           
			SOV = {
				controls_state = 146  
			} 
		}
					
		activation = {                          
			OR = {
				GER = { has_completed_focus = GER_mol_rib_pact }
				SOV = { has_completed_focus = SOV_baltic_security }
			}
			NOT = {
				OR = {
					has_government = fascism
					has_government = communism
				}
				is_in_faction = yes
				has_country_flag = fin_mainilashots
			}
			controls_state = 146
			date > 1939.8.23
			has_war = no
		}
					
		fire_only_once = yes
		is_good = yes					
		days_mission_timeout = 100              
		timeout_effect = {                      
			country_event = finland.92
		}
					
		complete_effect = {
		}
		
	}
				
	###Give soviets karjala	
	fin_givekarjalad = {
						
		allowed = { 
			tag = FIN 
		}             
		
		available = {                          
			OR = {
				GER = { has_completed_focus = GER_mol_rib_pact }
				SOV = { has_completed_focus = SOV_baltic_security }
			}
			NOT = {
				OR ={
					has_government = fascism
					has_government = communism
				}
				is_in_faction = yes
			}
			controls_state = 146  						
			has_active_mission = fin_karjalanego
		}
					
		visible = {                        
			OR = {
				GER = { has_completed_focus = GER_mol_rib_pact }
				SOV = { has_completed_focus = SOV_baltic_security }
			}
			NOT = {
				OR = {
					has_government = fascism
					has_government = communism
				}
				is_in_faction = yes
				has_country_flag = fin_mainilashots
				has_country_flag = fin_ceded_karjala
			}
		controls_state = 146                     # we can only finish this mission if we control state 64 (Berlin)
		has_active_mission = fin_karjalanego
		}
					
		activation = {                          # The mission appears and starts counting down under these circumstances:
			OR = {
				GER = { has_completed_focus = GER_mol_rib_pact }
				SOV = { has_completed_focus = SOV_baltic_security }
			}
			NOT = {
				OR = {
					has_government = fascism
					has_government = communism
				}
				is_in_faction = yes
			}
			controls_state = 146
		}
					
		ai_will_do = {
			factor = 0
		}
					
		cost = 150
					
		complete_effect = {
			SOV = {
				transfer_state = 146
			}
			set_country_flag = fin_ceded_karjala
		}
	}

			###Request swedish support
	fin_swedishsupportd = {
		
		allowed = {
			tag = FIN
		}
				
		available = {
			has_country_flag = fin_mainilashots
			has_war_with = SOV
			 NOT = {
				OR = {
					has_government = fascism
					has_government = communism
					is_in_faction = yes
				}
				has_war_with = SWE
			}
		}
			
		visible = {
			original_tag = FIN
			has_country_flag = fin_mainilashots
			has_war_with = SOV
			NOT = {
				OR = {
					has_government = fascism
					has_government = communism
				}
				is_in_faction = yes
			}
		}
				
		target_trigger = {
			FROM = {
				tag = SWE
			}
		}
				
		fire_only_once = yes
				
		cost = 25
				
		complete_effect = {
			country_event =  { id = finland.2 days = 1 }
		}	
	}
		
		###Request american support
	fin_ussupportd = {
		
		allowed = {
			tag = FIN
		}
				
		available ={
			has_country_flag = fin_mainilashots
			has_war_with = SOV
			NOT = {
				OR = {
					has_government = fascism
					has_government = communism
				}
				is_in_faction = yes
				has_war_with = ENG
				has_war_with = USA
			}
		}
			
		visible = {
			original_tag = FIN
			has_country_flag = fin_mainilashots
			has_war_with = SOV
			NOT = {
				OR = { 
					has_government = fascism
					has_government = communism
				}
			is_in_faction = yes
			}
		}
		target_trigger = {
			FROM = {
				tag = USA
			}
		}
				
		fire_only_once = yes
				
		cost = 25
				
		complete_effect = {
			FROM = {
				country_event = { id = finland.97 days = 8 }
			}
		}
	}
		
		###Request italian support
	fin_italiansupportd = {
		
		allowed = {
			tag = FIN
		}
				
		available ={
			has_country_flag = fin_mainilashots
			has_war_with = SOV
			NOT = {
				OR = {
					has_government = fascism
					has_government = communism
				}
			is_in_faction = yes
			has_war_with = ITA
			}
		}
		
		visible = {
			original_tag = FIN
			has_country_flag = fin_mainilashots
			has_war_with = SOV
			NOT = {
				OR = {
					has_government = fascism
					has_government = communism
				}
				is_in_faction = yes
			}
		}
				
		target_trigger = {
			FROM = {
				tag = ITA
			}
		}
				
		fire_only_once = yes
				
		cost = 25
				
		complete_effect = {
			FROM = {
				country_event = { id = finland.121 days = 10 }
			}
		}
	}
		
		###Request british support
	fin_britishsupportd = {
		
		allowed = {
			tag = FIN
		}
				
		available ={
			has_country_flag = fin_mainilashots
			has_war_with = SOV
			NOT = {
				OR = {
					has_government = fascism
					has_government = communism
				}
			is_in_faction = yes
			has_war_with = ENG
			}
		}
			
		visible = {
			original_tag = FIN
			has_country_flag = fin_mainilashots
			has_war_with = SOV
			NOT = {
				has_government = fascism
				has_government = communism
				is_in_faction = yes
			}
		}
		
		target_trigger = {
			FROM = {
				tag = ENG
			}
		}
				
		fire_only_once = yes
				
		cost = 25
				
		complete_effect = {
			FROM = {
				country_event = { id = finland.106 days = 2 }
			}
		}
	}
		
	###Request french support
	fin_frenchsupportd = {
		
		allowed = {
			tag = FIN
		}
				
		available ={
			has_country_flag = fin_mainilashots
			has_war_with = SOV
				NOT = { 
				has_government = fascism
				has_government = communism
				is_in_faction = yes
				has_war_with = FRA
				}
		}
			
		visible = {
			original_tag = FIN
			has_country_flag = fin_mainilashots
			has_war_with = SOV
			NOT = { 
				has_government = fascism
				has_government = communism
				is_in_faction = yes
			}
		}
		
		target_trigger = {
			FROM = {
				tag = FRA
			}
		}
				
		fire_only_once = yes
				
		cost = 25
				
		complete_effect = {
			FROM = {
				country_event = { id = finland.109 days = 6 }
			}
		}
	}
		
	###Request hungarian support
	fin_hungariansupportd = {
		
		allowed = {
			tag = FIN
		}
				
		available ={
			has_country_flag = fin_mainilashots
			has_war_with = SOV
			NOT = { 
				has_government = fascism
				has_government = communism
				is_in_faction = yes
				has_war_with = HUN
			}
		}
			
		visible = {
			original_tag = FIN
			has_country_flag = fin_mainilashots
			has_war_with = SOV
			NOT = { 
				has_government = fascism
				has_government = communism
				is_in_faction = yes
			}
		}
				
		target_trigger = {
			FROM = {
				tag = HUN
			}
		}
				
		fire_only_once = yes
				
		cost = 25
				
		complete_effect = {
			FROM = {
				country_event = { id = finland.112 days = 7 }
			}
		}
	}
		
	###Request norwegian support
	fin_norwegiansupportd = {
		
		allowed = {
			tag = FIN
		}
				
		available ={
			has_country_flag = fin_mainilashots
			has_war_with = SOV
			NOT = { 
				has_government = fascism
				has_government = communism
				is_in_faction = yes
				has_war_with = NOR
			}
		}
			
		visible = {
			original_tag = FIN
			has_country_flag = fin_mainilashots
			has_war_with = SOV
			NOT = { 
				has_government = fascism
				has_government = communism
				is_in_faction = yes
			}
		}
		
		target_trigger = {
			FROM = {
				tag = NOR
			}
		}
				
		fire_only_once = yes
				
		cost = 25
				
		complete_effect = {
			FROM = {
				country_event = { id = finland.115 days = 4 }
			}
		}
	}
		
	###Adds spirit of winter war
	fin_winter_war_dec = {
	
		allowed = {
			tag = FIN
		}
				
		available ={
			has_country_flag = fin_mainilashots
			has_war_with = SOV
			NOT = { 
				has_government = fascism
				has_government = communism
				is_in_faction = yes
			}
		}
			
		visible = {
			original_tag = FIN
			has_country_flag = fin_mainilashots
			has_war_with = SOV
			NOT = { 
				has_government = fascism
				has_government = communism
				is_in_faction = yes
			}
		}
				
		fire_only_once = yes
				
		complete_effect = {
			add_ideas = fin_winterwaridea
		}
	}
}

prospect_for_resources = {

	develop_petsamo_nickel_mines = { #Petsamo nickel mines
		
		icon = aluminium

		allowed = {
			
		}

		highlight_states = {
			state = 722
		}

		available = {
			has_tech = excavation2
			num_of_civilian_factories_available_for_projects > 2
			owns_state = 722
			controls_state = 722
		}

		visible = {
			owns_state = 722
			controls_state = 722
			722 = {
				NOT = {
					has_state_flag = petsamo_nickel_mines
				}
			}
		}

		fire_only_once = yes

		cost = 25
		days_remove = 60

		modifier = {
			civilian_factory_use = 3
		}

		ai_will_do = {
			factor = 1
		}
		remove_effect = { 
			722 = { set_state_flag = petsamo_nickel_mines } 
			722 = {
				
				add_resource = {
					type = tungsten #standin for phosphates
					amount = 12
				}
			}
		}
	}
	
	develop_petsamo_nickel_mines_2 = { #Petsamo nickel mines 2
		
		icon = aluminium

		allowed = {
			
		}

		highlight_states = {
			state = 722
		}

		available = {
			has_tech = excavation3
			num_of_civilian_factories_available_for_projects > 2
			owns_state = 722
			controls_state = 722
		}

		visible = {
			owns_state = 722
			controls_state = 722
			722 = {
				NOT = {
					has_state_flag = petsamo_nickel_mines_2
				}
				has_state_flag = petsamo_nickel_mines
			}
			
		}

		fire_only_once = yes

		cost = 35
		days_remove = 90

		modifier = {
			civilian_factory_use = 3
		}

		ai_will_do = {
			factor = 1
		}
		remove_effect = { 
			722 = { set_state_flag = petsamo_nickel_mines_2 } 
			722 = {
				
				add_resource = {
					type = tungsten #standin for phosphates
					amount = 12
				}
			}
		}
	}
	
	develop_petsamo_nickel_mines_3 = { #Petsamo nickel mines 3
		
		icon = aluminium

		allowed = {
			
		}

		highlight_states = {
			state = 722
		}

		available = {
			has_tech = excavation4
			num_of_civilian_factories_available_for_projects > 2
			owns_state = 722
			controls_state = 722
		}

		visible = {
			owns_state = 722
			controls_state = 722
			722 = {
				NOT = {
					has_state_flag = petsamo_nickel_mines_3
				}
				has_state_flag = petsamo_nickel_mines_2
			}
		}

		fire_only_once = yes

		cost = 50
		days_remove = 120

		modifier = {
			civilian_factory_use = 3
		}

		ai_will_do = {
			factor = 1
		}
		remove_effect = { 
			722 = { set_state_flag = petsamo_nickel_mines_3 } 
			722 = {
				
				add_resource = {
					type = tungsten #standin for phosphates
					amount = 12
				}
			}
		}
	}
}

political_actions = {

	fin_unify_sca = { #Petsamo nickel mines 3
		
		icon = generic_political_discourse

		allowed = {
			
		}

		available = {
			OR = {
				has_idea = SCA_united_01
				has_idea = SCA_united_02
				has_idea = SCA_united_03
				has_idea = SCA_united_04
			}
		}

		visible = {
			OR = {
				has_idea = SCA_united_01
				has_idea = SCA_united_02
				has_idea = SCA_united_03
				has_idea = SCA_united_04
			}
		}

		fire_only_once = no

		cost = 50
		days_remove = 60

		ai_will_do = {
			factor = 1
		}
		remove_effect = { 
			FIN_sca_united_effect = yes
		}
	}

	fin_sca_pool_research = { #Petsamo nickel mines 3
		
		icon = generic_research

		allowed = {
			
		}

		available = {
			NOT = {
				has_idea = SCA_united_01
				has_idea = SCA_united_02
				has_idea = SCA_united_03
				has_idea = SCA_united_04
			}
			
			has_country_flag = sca_united.f
		}

		visible = {
			has_country_flag = sca_united.f
		}

		fire_only_once = yes

		cost = 150
		days_remove = 30

		ai_will_do = {
			factor = 1
		}
		remove_effect = { 
			add_research_slot = 1
		}
	}	

}